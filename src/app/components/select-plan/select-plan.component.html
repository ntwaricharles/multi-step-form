<div class="p-4 md:p-6 bg-white rounded-lg max-h-[80vh]">
  <h2 class="text-lg md:text-2xl font-bold mb-2 md:mb-4 text-marine-blue">Select your plan</h2>
  <p class="text-xs md:text-base text-cool-gray mb-4 md:mb-6">You have the option of monthly or yearly billing.</p>
  <div class="flex flex-col items-center w-full justify-center mb-4 md:mb-6 md:flex-row">
    <div
      *ngFor="let planOption of planOptions"
      (click)="selectPlan(planOption.key)"
      [class.bg-light-blue]="plan === planOption.key"
      [class.border-blue-500]="plan === planOption.key"
      class="border rounded-lg p-2 md:p-4 w-full mx-1 md:mx-2 cursor-pointer hover:border-blue-500 mb-4 md:mb-0"
    >
      <div class="flex items-center sm:flex-col sm:items-start">
        <img [src]="planOption.img" class="w-12 md:w-24 mr-2 md:mr-4 sm:mb-2 md:mb-4 sm:mr-0" alt="{{ planOption.name }}" />
        <div class="text-left sm:text-center">
          <h3 class="font-bold text-sm md:text-lg">{{ planOption.name }}</h3>
          <p class="text-xs md:text-base text-cool-gray">{{ period ? planOption.yearlyPrice : planOption.monthlyPrice }}</p>
          <!-- Display "2 months free" on a new row if in yearly mode -->
          <p *ngIf="period && plan === planOption.key" class="text-marine-blue mt-1 md:mt-2">
            2 months free
          </p>
        </div>
      </div>
    </div>
  </div>
  <div class="flex items-center justify-center bg-light-blue -top-5 h-8 md:h-12 mb-4 md:mb-6 relative">
    <span class="text-xs md:text-base mr-1 md:mr-2 text-marine-blue">Monthly</span>
    <label class="switch relative w-16 md:w-24">
      <input type="checkbox" [(ngModel)]="period" (click)="togglePeriod()" />
      <span class="slider round absolute inset-0"></span>
    </label>
    <span class="text-xs md:text-base ml-1 md:ml-2 text-cool-gray">Yearly</span>
  </div>
  <div class="flex md:hidden justify-between items-center absolute left-0 py-2 px-4 bottom-0 bg-white w-full">
    <button class="text-xs md:text-base text-cool-gray font-medium" (click)="previousStep.emit()">Go Back</button>
    <button class="bg-marine-blue text-white px-4 md:px-6 py-1 md:py-2 rounded-lg font-medium" (click)="nextStep.emit()">Next Step</button>
  </div>
  <div class="hidden md:flex justify-between items-center bg-white md:mt-8 w-full">
    <button class="text-base md:text-base text-cool-gray font-medium" (click)="previousStep.emit()">Go Back</button>
    <button class="bg-marine-blue text-white px-6 py-2 rounded-lg font-medium" (click)="nextStep.emit()">Next Step</button>
  </div>
</div>
